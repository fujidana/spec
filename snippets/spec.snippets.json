{
    "macro-with-fixed-arguments": {
        "prefix": [
            "def-macro-fixed"
        ],
        "body": [
            "def ${1:macro_name} '{",
            "\tif (\\$# != ${2:arg_num}) {",
            "\t\teprintf(\"Usage: %s ${3:arg1 ...}\\n\", \"\\$0\")",
            "\t\texit",
            "\t}",
            "\t$0",
            "}'"
        ],
        "description": "traditional macro definition using fixed number of arguments"
    },
    "macro-with-variable-arguments": {
        "prefix": [
            "def-macro-variable"
        ],
        "body": [
            "def ${1:macro_name} '{",
            "\tlocal ${2:arg_num}, ${3:arg_array}[]",
            "\t${2:arg_num} = split(\"$@\", ${3:arg_array}, \"\\a\")",
            "\t$0",
            "}'"
        ],
        "description": "traditional macro definition using variable number of arguments"
    },
    "macro-function": {
        "prefix": [
            "def-func"
        ],
        "body": [
            "def ${1:func_name}(${2:arg1, ...}) '{",
            "\t$0",
            "\treturn 0",
            "}'"
        ],
        "description": "macro function definition"
    },
    "macro-builtin": {
        "prefix": [
            "cdef-builtin"
        ],
        "body": [
            "cdef(\"${1|begin_mac,end_mac,config_mac,prompt_mac,cleanup_once,cleanup_always|}\", ${2:string}, ${3:key})"
        ],
        "description": "built-in macro definition, which is invoked at the specified times only if defined."
    },
    "if": {
        "prefix": [
            "if"
        ],
        "body": [
            "if (${1:condition}) {",
            "\t$0",
            "}"
        ],
        "description": "if statement"
    },
    "else": {
        "prefix": [
            "else"
        ],
        "body": [
            "else {",
            "\t$0",
            "}"
        ],
        "description": "else clause"
    },
    "else-if": {
        "prefix": [
            "else-if"
        ],
        "body": [
            "else if (${1:condition}) {",
            "\t$0",
            "}"
        ],
        "description": "else clause with a nested if statement"
    },
    "while": {
        "prefix": [
            "while"
        ],
        "body": [
            "while (${1:condition}) {",
            "\t$0",
            "}"
        ],
        "description": "while loop"
    },
    "for": {
        "prefix": [
            "for"
        ],
        "body": [
            "for (${1:i = 0}; ${2:i < n}; ${3:i++}) {",
            "\t$0",
            "}"
        ],
        "description": "for loop"
    },
    "for-in": {
        "prefix": [
            "for-in"
        ],
        "body": [
            "for (${1:identifier} in ${2:assoc_array}) {",
            "\t$0",
            "}"
        ],
        "description": "for-in loop"
    }
}